"use strict";let e=document.querySelector("#filter_city"),t=document.querySelector("#filter_month"),n=document.querySelector("#events_box"),i=["All","January","February","March","April","May","June","July","August","September","October","November","December"],a=[],s=[],d={},o={};function r(e){let t=e.date.split("."),n=new Date(t[1]+"/"+t[0]+"/"+t[2]);return`  <div class="event_info__header info_head">\n            <div class="info_head__date">\n                <time datetime="${n.toISOString()}">${n.getDate()}</time>\n            </div>\n\n            <div class="info_head__save">\n                <span>\n                    <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M15 19L8 14L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H13C13.5304 1 14.0391 1.21071 14.4142 1.58579C14.7893 1.96086 15 2.46957 15 3V19Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                </span>\n            </div>\n      </div>\n      <div class="event_info__text">${e.city}</div>\n      <div class="event_info__cover">\n            <img src="${e.image}" alt="" />\n      </div>`}class c{constructor(e,t){this._container=e,this.clearList(),this.addItems(t)}clearList(){this._container.innerHTML=""}addItems(e){e.forEach(e=>{const t=document.createElement("div");t.innerHTML=r(e),t.classList.add("events_box__event"),t.classList.add("event_info"),t.id="event-"+e.id,this._container.appendChild(t)})}}function l(){let r=new XMLHttpRequest;r.open("GET","data/events.json"),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.send(),r.addEventListener("readystatechange",(function(){if(4===r.readyState&&200==r.status){d=JSON.parse(r.response);let l=new Set;l.add("All"),a.push("All"),d.forEach(e=>{l.add(e.city),e.month=+e.date.split(".")[1],a[e.month]=i[e.month]}),s=Array.from(l),v(e,s),v(t,a),o=new c(n,d)}}))}function v(e,t){e.innerHTML=t.map((e,t)=>`<option value="${t}">${e}</option>`).join("")}function u(e,t){let n=d.filter(n=>(n.city==s[e]&&e>0||0==e)&&(n.month==t&&t>0||0==t));o.clearList(),o.addItems(n)}e.addEventListener("change",e=>{u(e.target.value,t[t.selectedIndex].value)}),t.addEventListener("change",t=>{let n=t.target.value;u(e[e.selectedIndex].value,n)}),window.addEventListener("DOMContentLoaded",(function(){l()}));